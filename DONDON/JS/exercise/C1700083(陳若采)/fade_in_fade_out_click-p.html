<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
<input type="button" id="btnInOut" value="淡出"><br>
<img src="melon.gif" alt="小玉" id="img1" style="opacity: 1">
	
</body>
</html>
<script type="text/javascript">
	var opacity=1;
	var timerId;

	function showOpacity(){
		var img1=document.getElementById("img1");
		opacity-=0.05;
		img1.style.opacity=opacity;
		if (opacity<=0) {
			clearInterval(timerId);
			document.getElementById("btnInOut").value="淡入";
			document.getElementById("btnInOut").disabled=false;
		}
		
	}

	function showOpacity1(){
		var img1=document.getElementById("img1");
		opacity+=0.05;
		img1.style.opacity=opacity;
		if (opacity>=1) {
			clearInterval(timerId);
			document.getElementById("btnInOut").value="淡出";
			document.getElementById("btnInOut").disabled=false;
		}
		
	}

	

	function fadeOut(){
		var value=document.getElementById("btnInOut").value;
		if(value=="淡出"){
			timerId=setInterval(showOpacity,100);
		   document.getElementById("btnInOut").disabled=true;
		}else{
			timerId=setInterval(showOpacity1,100);
			document.getElementById("btnInOut").disabled=true;
		}
	}

	
		
	

	function init(){
		document.getElementById("btnInOut").onclick=fadeOut;

	}
	window.onload=init;

</script>