<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Fade in, Fade out(onclick) </title>
</head>
<body>
<center>
<input type="button" id="btnInOut" value="淡出"><br>
<img src="melon.gif" alt="小玉" id="img1" style="opacity:1">
</center>
</body>
</html>
<script>

var timerId;
var timerId2;
var opacity=1;
//點下去做淡入/淡出的切換

function showOpacity() {

  var x=document.getElementById("btnInOut").value;


 if ( x==='淡出') {
  var img1= document.getElementById("img1");
  // 指定參考
  opacity-=0.05;
  img1.style.opacity=opacity;
  if (opacity<0) {
    clearInterval(timerId);
    //  console.log(timerId);
    document.getElementById('btnInOut').value="淡入";
  }
 }
  else if (x==='淡入') {
    var img1= document.getElementById("img1");
    // 指定參考
    opacity+=0.05;
    img1.style.opacity=opacity;
    if (opacity>1) {
      clearInterval(timerId);
       console.log(timerId);
      document.getElementById('btnInOut').value="淡出";
  }
}



  // else if (opacity<0) {
  //   var img1= document.getElementById("img1");
  //    console.log(opacity);
  //   // console.log(timerId2);
  //   opacity+=0.05;
  //   img1.style.opacity=opacity;
  //   if (opacity>1) {
  //     clearInterval(timerId2);
  //     document.getElementById('btnInOut').value="淡入";
  //   }
  // }


}

function fade(){
  timerId=setInterval(showOpacity,100);
  // timerId2=setInterval(showOpacity,100);

  // console.log(opacity);

}


// function init(){
  document.getElementById("btnInOut").onclick=fade;
// }
//
// window.onload=init;

</script>
