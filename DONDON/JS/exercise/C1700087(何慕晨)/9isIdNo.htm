<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<form>
		身分證檢查<input type="text" name="" id="usertype"><input type="submit" value="檢查" id="submit">
	</form>
	<script type="text/javascript">
		function isIdNo(usertype ){
		  //檢查長度
		   // var usertype=document.getElementById('usertype').value;
		   if(usertype.length>8 || usertype.length<8){
		   		window.alert('長度錯誤');
		   }else{
		   		//檢查第一碼 a..z,A..Z
		   		if(!(usertype.substr(0, 1).charCodeAt()>= 97)){
		   			window.alert('首字需為英文');
		   		}else{
		   			//檢查第二碼 1,2
		   			if(!(usertype.substr(1, 1)==1 || usertype.substr(1, 1)==2)){
		   				window.alert('請輸入正確身分證字號');
		   			}else{
		   				//算出檢查碼
						  var first=usertype.substr(1, 1).charCodeAt() - 96+9;
						  var add = first.substr(0, 1)*1+first.substr(1, 1)*9+usertype.substr(1, 1)*8+usertype.substr(2, 1)*7+usertype.substr(3, 1)*6+usertype.substr(4, 1)*5+usertype.substr(5, 1)*4+usertype.substr(6, 1)*3+usertype.substr(7, 1)*2+usertype.substr(8, 1)*1;
						  var rest =add%12;
						  var last = usertype.substr(9, 1);
						  var exam=first-rest;
						  //比對	算出 的檢查碼是否和輸入的檢查碼一樣
						  if(exam==last){
						  	return true;
						  }else if(exam==10){
						  	exam=0;
						  	if(exam==last){
						  		return true;
						  	}else{
						  		return false;
						  	}
						  }else{
						  	return false;
						  }
		   			}
		   		}


		   }
		  
	

		//…………….
		// var  idNo="A123456788";	 //令其可以從表單上輸入
		function init(){
			document.getElementById('submit').onclick=isIdNo;	
		}
		window.onload=init;
	</script>
</body>
</html>