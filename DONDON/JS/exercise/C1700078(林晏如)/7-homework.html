<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Fade in, Fade out(onclick) </title>
</head>
<body>
<center>
<input type="button" id="btnInOut" value="淡出"><br>
<img src="melon.gif" alt="小玉" id="img1" style="opacity:1"> 	
</center>
</body>
</html>
<script>
var opacity=1;




////作業七

//淡出
var opacity=1
function fadeOut(){
	opacity-=0.05;

	var img1=document.getElementById('img1');
	img1.style.opacity=opacity;

	var btn = document.getElementById('btnInOut');
	btn.disabled=true;

	if(opacity<=0){
		clearInterval(time);
		document.getElementById('btnInOut').disabled=false;
		document.getElementById('btnInOut').value="淡入"
	}
	
	console.log(opacity);
}

//淡入
function fadeIn(){
	opacity+=0.05;

	var img1=document.getElementById('img1');
	img1.style.opacity=opacity;

	var btn = document.getElementById('btnInOut');
	btn.disabled=true;

	if(opacity>=1){
	clearInterval(time);
	document.getElementById('btnInOut').disabled=false;
	document.getElementById('btnInOut').value="淡出"
	}
	
	console.log(opacity);
}
//點下去開始重複執行(判斷)
function start(){

	var btn=document.getElementById('btnInOut');
	if(btn.value=="淡出"){
		time=setInterval(fadeOut,100);
	}else{
		time=setInterval(fadeIn,100);
	}
}


function init(){
	var btn=document.getElementById('btnInOut');
	btn.onclick=start;
}

window.onload=init;

</script>