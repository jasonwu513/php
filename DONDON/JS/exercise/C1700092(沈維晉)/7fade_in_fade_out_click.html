<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Fade in, Fade out(onclick) </title>
</head>
<body>
<center>
<input type="button" id="btnInOut" value="淡出"><br>
<img src="melon.gif" alt="小玉" id="img1" style="opacity:1"> 	
</center>
</body>
</html>
	<script>
	var opacity=1;
	var timeid;
	var img1=document.getElementById("img1");
	function fadein(){
		opacity = opacity-0.05;
		img1.style.opacity = opacity;
		if(opacity <= 0){
			clearInterval(timeid);
			document.getElementById("btnInOut").disabled="";
		}
	}

	function fadeout(){
		opacity = opacity+0.05;
		img1.style.opacity = opacity;
		if(opacity >= 1){
			clearInterval(timeid);
			document.getElementById("btnInOut").disabled="";
		}
	}
	//點下去做淡入/淡出的切換
	function fadebox(){ //如果是顯示淡入，點下去後，就會電淡出
		if(document.getElementById("btnInOut").value == "淡入"){
			document.getElementById("btnInOut").value = "淡出";
			document.getElementById("btnInOut").disabled="true";
			timeid = setInterval(fadeout , 100);
		}else{ //如果不是顯示淡入，點下去後，就會變淡入
			document.getElementById("btnInOut").value = "淡入";
			document.getElementById("btnInOut").disabled="true";
			timeid = setInterval(fadein , 100);
		}
		
	}

	function init(){
		document.getElementById("btnInOut").onclick = fadebox;
	}
	window.onload = init;
</script>