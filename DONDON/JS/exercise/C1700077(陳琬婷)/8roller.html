<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JS作業八</title>
	<style type="text/css">
		body{
			text-align: center;
		}
		table{
			margin: auto;
		}
		td{
			width: 100px;
			height: 100px;
			text-align: center;
			line-height: 100px;
			font-size: 20px;
		}

	</style>
</head>
<body>
	<table border="1" cellspacing="0">
		<tr>
			<td id="a0" class="aa"></td>
			<td id="a1" class="aa"></td>
			<td id="a2" class="aa"></td>
			<td id="a3" class="aa"></td>
		</tr>
		<tr>
			<td id="a11" class="aa"></td>
			<td colspan="2" rowspan="2" id="mm"></td>
			<td id="a4" class="aa"></td>

		</tr>
		<tr>
			<td id="a10" class="aa"></td>
			<td id="a5" class="aa"></td>

		</tr>
		<tr>
			<td id="a9" class="aa"></td>
			<td id="a8" class="aa"></td>
			<td id="a7" class="aa"></td>
			<td id="a6" class="aa"></td>
		</tr>
	</table>
	<br>
	<input type="button" id="btn" value="抽獎">


	<script type="text/javascript">
		
		var timerId;
		var num=0;
		var stop;
		// var i=0;
		function rand(min,max){
			var rNumber =Math.floor(Math.random()*(max-min+1))+min;
			return rNumber;
		}
		
		function colorRun(){
			document.getElementById("btn").disabled=true;
			document.getElementById("a"+num).style.backgroundColor="#fff";
			num++;
			num=num%12;
			document.getElementById("a"+num).style.backgroundColor="#ff0";

			stop--;
			clearInterval(timerId);
			timerId=setInterval(colorRun,200-stop*10);
			if(stop==0){
				clearInterval(timerId);
				var money=rand(1,1000)*10000
				document.getElementById("a"+num).innerHTML=money;
				if(money>8000000)
				{
					document.getElementById("mm").innerHTML="可以買房啦!!!";
				}
				document.getElementById("btn").disabled=false;
			}

		}
			



		function star(){
			stop=rand(20,30);
			document.getElementById("a"+num).innerHTML="";
			document.getElementById("mm").innerHTML="";
			timerId=setInterval(colorRun,200-stop*10);


		}

		function init(){
			document.getElementById("btn").onclick=star;
		}



		window.onload=init;
	</script>
</body>
</html>