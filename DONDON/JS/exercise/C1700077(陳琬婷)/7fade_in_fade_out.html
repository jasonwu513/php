<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Fade in, Fade out(onclick) </title>
</head>
<body>
<center>
<input type="button" id="btnInOut" value="淡出"><br>
<img src="melon.gif" alt="小玉" id="img1" style="opacity:1"> 	
</center>
</body>
</html>
<script>
var opacity=1;
var timerId;
//點下去做淡入/淡出的切換
 
//淡出
function showOpacity(){
	var img1=document.getElementById("img1");
	opacity =opacity-0.05;
	img1.style.opacity=opacity;
	document.getElementById("btnInOut").disabled=true;

	if(opacity<=0){
		clearInterval(timerId);
		document.getElementById("btnInOut").disabled=false;
		document.getElementById("btnInOut").value="淡入";
	    document.getElementById("btnInOut").onclick=fadeIn;
	}
	console.log(opacity);
}

function  showOpacity2(){
	var img1=document.getElementById("img1");
	opacity=opacity+0.05;
	img1.style.opacity=opacity;
	document.getElementById("btnInOut").disabled=true;
	if(opacity==1){
		clearInterval(timerId);
		document.getElementById("btnInOut").disabled=false;
		document.getElementById("btnInOut").value="淡出";
		document.getElementById("btnInOut").onclick=fadeOut;
	}
	console.log(opacity);
}
function fadeIn(){
	timerId=setInterval(showOpacity2,100);
}
function fadeOut(){
	timerId=setInterval(showOpacity,100);
}
function init(){
	document.getElementById("btnInOut").onclick=fadeOut;

}
window.onload=init;
</script>