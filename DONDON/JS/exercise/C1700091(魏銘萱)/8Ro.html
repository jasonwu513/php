<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style type="text/css">
	table{
		margin: auto;
	}
	
	td{
		width: 100px;
		height: 100px;
		background-color: #ccc;
		text-align: center;
		color: red;
	}
	#mid{
		background-color: #fff;
	}
	h2,h3{
		text-align: center;
	}
</style>
<script type="text/javascript">
	var timerId;
	var number=0;
	var stop;

	function rand(min,max){
    	var small = parseInt(min);
    	var big = parseInt(max);
    	var randNum = Math.round( Math.random()*(big-small))+small;
    	return randNum;
    }

	function go(){
		/*重設*/	
		var tds = document.getElementsByTagName("td");
		for( var i=0; i<tds.length; i++){
			tds[i].style.backgroundColor="#ccc";
			tds[i].innerHTML="";
		}		
		document.getElementById("mid").style.backgroundColor="white";
		/*主要*/
		document.getElementById("btn").disabled=true;
		number++;
		console.log("stop=",stop);
		document.getElementById("d"+(number%8)).style.backgroundColor="yellow";

		if(number>1){
			document.getElementById("d"+((number-1)%8)).style.backgroundColor="#ccc";
			document.getElementById("d"+((number-1)%8)).innerHTML="";
		}
		if( number==stop ){
			clearInterval(timerId);
			document.getElementById("btn").disabled=false;
			document.getElementById("d"+(number%8)).innerHTML=rand(1000,10000000);
			number=0;
		}
	}

	function click(){
		timerId=setInterval(go,100);
		stop=rand(6,20);
		document.getElementById("sp").innerHTML=stop;
	}

	function init(){
		document.getElementById("btn").onclick=click;
	}

	window.onload=init;
</script>
</head>
<body>
    <table>
    <caption><input type="button" id="btn" value="抽獎"></caption>
    	<tr><td id="d0"></td><td id="d1"></td><td id="d2"></td></tr>
    	<tr><td id="d7"></td><td id="mid"></td><td id="d3"></td></tr>
    	<tr><td id="d6"></td><td id="d5"></td><td id="d4"></td></tr>
    </table>
</body>
</html>