<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<script type="text/javascript">
	function notEng(word){
		var regExp = /[^A-Za-z]/;
     	if(regExp.test(word))
        	return true;
    	return false;
	}
	function changeWord(word){
		if(isNaN(word)){
			word=word.toUpperCase();
			if(word==="A"){
				word="10";
			}else if(word==="B"){
				word="11";
			}else if(word==="C"){
				word="12";
			}else if(word==="D"){
				word="13";
			}else if(word==="E"){
				word="14";
			}else if(word==="F"){
				word="15";
			}else if(word==="G"){
				word="16";
			}else if(word==="H"){
				word="17";
			}else if(word==="I"){
				word="34";
			}else if(word==="J"){
				word="18";
			}else if(word==="K"){
				word="19";
			}else if(word==="L"){
				word="20";
			}else if(word==="M"){
				word="21";
			}else if(word==="N"){
				word="22";
			}else if(word==="O"){
				word="35";
			}else if(word==="P"){
				word="23";
			}else if(word==="Q"){
				word="24";
			}else if(word==="R"){
				word="25";
			}else if(word==="S"){
				word="26";
			}else if(word==="T"){
				word="27";
			}else if(word==="U"){
				word="28";
			}else if(word==="V"){
				word="29";
			}else if(word==="W"){
				word="32";
			}else if(word==="X"){
				word="30";
			}else if(word==="Y"){
				word="31";
			}else if(word==="Z"){
				word="33";
			}
		}
			return word;
	}
	function testId(id){
		var id2="";
		for(var i=0; i<id.length; i++){//10
			id2+=changeWord(id.charAt(i));
		}
		var num=parseInt(id2.charAt(0));
		for(var j=1; j<id2.length-1; j++){//11
			num+=parseInt(id2.charAt(j))*(10-j);
		}
		console.log("num=",num);
		var checkNum=num%10;
		if(checkNum!=0){
			checkNum=10-checkNum;
		}
		if(checkNum==parseInt(id2.charAt(id2.length-1))){
			return true;
		}else{
			return false;
		}
	}
	function checkId(id){
		if(id.length!=10){
			document.getElementById("ans").innerHTML="字數不正確";
			return false;
		}else if(id.charAt(1)!="1" && id.charAt(1)!="2"){
			document.getElementById("ans").innerHTML="第2個字不是1or2";
			return false;
		}else if(notEng(id.charAt(0))){
			document.getElementById("ans").innerHTML="第一個字不是英文";
			return false;
		}else if(isNaN(id.substr(1))){
			document.getElementById("ans").innerHTML="第一個字後的字不是數字";
			return false;
		}else if(testId(id)){
			document.getElementById("ans").innerHTML="正確狀況";
			return true;
		}
		else{
			document.getElementById("ans").innerHTML="不正確";
			return false;
		}
	}
	function doCheck(){
		document.getElementById("ans").innerHTML="";
		var id=document.getElementById("id").value;
		var b=checkId(id);
		if(b==true){
			document.getElementById("ans").innerHTML="正確";
		}else{
			
		}
	}
	function init() {
		document.getElementById("bt").onclick=doCheck;
	}
	window.onload=init;
</script>
</head>
<body>
<h2>檢查身分證號碼規則</h2>
    <input type="text" id="id"><input type="button" id="bt" value="檢查">
    <hr>
    <span id="ans"></span>
</body>
</html>